/* [REFAKTOR] Menghapus semua tag dan karena itu bukan kode JS */

document.addEventListener('DOMContentLoaded', () => {
    
    // --- AWAL BLOK MENU HAMBURGER ---
    const navToggle = document.querySelector('.nav-toggle');
    const navMenu = document.querySelector('.nav-menu');

    if (navToggle && navMenu) {
        navToggle.addEventListener('click', () => {
            // Tampilkan/sembunyikan menu
            navMenu.classList.toggle('active');
            
            // Ganti ikon hamburger (fa-bars) menjadi X (fa-times)
            const icon = navToggle.querySelector('i');
            if (navMenu.classList.contains('active')) {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        });

        // (Opsional) Tutup menu saat link di-klik
        navMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                if (navMenu.classList.contains('active')) {
                    navMenu.classList.remove('active');
                    
                    // Kembalikan ikon hamburger
                    const icon = navToggle.querySelector('i');
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                }
            });
        });
    }
    // --- AKHIR BLOK MENU HAMBURGER ---


    // --- AWAL BLOK SLIDER GAMBAR ---
    const sliderImages = document.querySelectorAll('.slider-image');
    let currentImageIndex = 0;

    // Hanya jalankan jika ada lebih dari 1 gambar
    if (sliderImages.length > 1) {
        setInterval(() => {
            // 1. Sembunyikan gambar yang sekarang
            if (sliderImages[currentImageIndex]) {
                sliderImages[currentImageIndex].classList.remove('slide-active');
            }

            // 2. Tentukan indeks gambar berikutnya (berputar)
            currentImageIndex = (currentImageIndex + 1) % sliderImages.length;

            // 3. Tampilkan gambar berikutnya
            if (sliderImages[currentImageIndex]) {
                sliderImages[currentImageIndex].classList.add('slide-active');
            }
            
        }, 4000); // Ganti gambar setiap 4 detik (4000 milidetik)
    }
    // --- AKHIR BLOK SLIDER GAMBAR ---

    
    // --- AWAL BLOK FITUR CEK STATUS ---
    const statusWrapper = document.querySelector('.status-check-wrapper');
    const btnCekStatus = document.getElementById('btn-cek-status');
    const btnBatalCek = document.getElementById('btn-batal-cek');

    if (statusWrapper && btnCekStatus && btnBatalCek) {
        
        // Saat tombol "Cek Status" diklik
        btnCekStatus.addEventListener('click', (e) => {
            e.preventDefault(); // Mencegah link pindah halaman
            statusWrapper.classList.add('form-active');
        });

        // Saat tombol "Batal (X)" diklik
        btnBatalCek.addEventListener('click', () => {
            statusWrapper.classList.remove('form-active');
        });

        // (Opsional) Bisa tambahkan logika saat form di-submit
        const statusForm = document.getElementById('form-cek-status');
        statusForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const kode = statusForm.querySelector('input').value;
            if(kode) {
                alert('Mencari status untuk kode: ' + kode);
                // Di sini nanti Anda akan proses datanya
            } else {
                alert('Silakan masukkan kode pengajuan Anda.');
            }
        });
    }
    // --- AKHIR BLOK FITUR CEK STATUS ---


    // ==== KODE SLIDER TESTIMONI BARU DITAMBAHKAN DI SINI ====
    const sliderContainer = document.querySelector('.testi-slider-container');
    const prevButton = document.getElementById('prev-slide');
    const nextButton = document.getElementById('next-slide');

    if (sliderContainer && prevButton && nextButton) {
        // Ambil lebar satu kartu + gap-nya (2rem = 32px)
        const cardWidth = sliderContainer.querySelector('.testi-card').offsetWidth + 32;

        nextButton.addEventListener('click', () => {
            // Geser ke kanan sejauh lebar satu kartu
            sliderContainer.scrollBy({ left: cardWidth, behavior: 'smooth' });
        });

        prevButton.addEventListener('click', () => {
            // Geser ke kiri sejauh lebar satu kartu
            sliderContainer.scrollBy({ left: -cardWidth, behavior: 'smooth' });
        });
    }
    // ==== AKHIR KODE SLIDER TESTIMONI ====


    // --- AWAL BLOK TES LOGIN (HANYA UNTUK DEVELOPMENT) ---
    // [REFAKTOR] Pindah ke dalam DOMContentLoaded agar 'document.body' pasti ada
    function toggleLoginStatus() {
        document.body.classList.toggle('logged-in');
    }

    const loginTestButton = document.createElement('button');
    loginTestButton.textContent = 'Tes Ganti Warna (Login)';
    loginTestButton.style.position = 'fixed';
    loginTestButton.style.bottom = '10px';
    loginTestButton.style.right = '10px';
    loginTestButton.style.padding = '10px';
    loginTestButton.style.zIndex = '2000';
    loginTestButton.style.backgroundColor = '#e7a635';
    loginTestButton.style.color = 'white';
    loginTestButton.style.border = 'none';
    loginTestButton.style.borderRadius = '5px';
    loginTestButton.style.cursor = 'pointer';

    loginTestButton.onclick = toggleLoginStatus;
    document.body.appendChild(loginTestButton);
    // --- AKHIR BLOK TES LOGIN ---

});
// --- AKHIR DARI 'DOMContentLoaded'


// --- AWAL BLOK HEADER MENGECIL SAAT SCROLL ---
// (Ini boleh tetap di luar DOMContentLoaded karena 'scroll' adalah event window)
window.addEventListener('scroll', () => {
    const header = document.querySelector('.main-header');
    if (window.scrollY > 50) { // Jika scroll lebih dari 50px
        header.classList.add('scrolled');
    } else {
        header.classList.remove('scrolled');
    }
});
// --- AKHIR BLOK HEADER MENGECIL SAAT SCROLL ---


// [FIX] Menghapus '}' ekstra yang ada di akhir file Anda